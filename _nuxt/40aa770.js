(window.webpackJsonp=window.webpackJsonp||[]).push([[9],{331:function(e,t,n){"use strict";n.d(t,"a",(function(){return o}));var r=n(152),c=window.ethereum,o=Object(r.c)("metamask",{state:function(){return{haveEventsStarted:!1}},actions:{startMetamaskEvents:function(){this.haveEventsStarted||(this.haveEventsStarted=!0,c.on("chainChanged",this.handleChainChanged),c.on("accountsChanged",this.handleAccountsChanged))},handleChainChanged:function(e){},handleAccountsChanged:function(e){}}})},438:function(e,t,n){"use strict";n.r(t);var r=n(125),c=n(123),o=n(324),l=n(337),d=n(85),f=(n(5),n(46)),v=n(331),m=n(0),h=n(12),x=n(10),k=(n(45),n(50),n(19),n(426)),w=n(39),y=n(58),C=Object(m.d)({__name:"coffee-with-crypto",setup:function(e){Object(f.d)({title:"Coffee With Crypto | "});var t=Object(v.a)(),r=Object(f.e)(),c=r.$config,o=r.$toast,l=Object(m.y)(null),d=c.public,C=d.ownerAddress,_=d.txConfirmationBlocks,j=window.ethereum,O=Boolean(j),A=O?new k.a.providers.Web3Provider(j,"any"):null,S=Object(m.y)(!1),address=Object(m.y)(""),R=Object(m.y)(""),T=Object(m.y)(""),E=Object(m.y)(""),B=Object(m.y)(0),M=Object(m.y)(""),H=Object(m.y)(!1),W=Object(m.y)(!1),$=Object(m.a)((function(){return address.value&&address.value.substring(0,4)+"..."+address.value.substring(address.value.length-4)})),D=Object(m.a)((function(){try{var e=R.value.split("."),t=Object(x.a)(e,2),n=t[0],r=t[1];return"".concat(n,".").concat(r.substring(0,4))}catch(e){return R.value}}));t.$onAction(function(){var e=Object(h.a)(regeneratorRuntime.mark((function e(t){var n,r,c;return regeneratorRuntime.wrap((function(e){for(;;)switch(e.prev=e.next){case 0:n=t.name,r=t.args,c=t.onError,e.t0=n,e.next="handleChainChanged"===e.t0?4:"handleAccountsChanged"===e.t0?7:10;break;case 4:return e.next=6,L();case 6:return e.abrupt("break",10);case 7:return e.next=9,G(r[0]);case 9:return e.abrupt("break",10);case 10:c((function(e){o.error(String((null==e?void 0:e.message)||e))}));case 11:case"end":return e.stop()}}),e)})));return function(t){return e.apply(this,arguments)}}()),Object(m.r)(Object(h.a)(regeneratorRuntime.mark((function e(){var n;return regeneratorRuntime.wrap((function(e){for(;;)switch(e.prev=e.next){case 0:if(e.prev=0,O){e.next=3;break}throw new Error("You have to install Metamask to access this page.");case 3:return t.startMetamaskEvents(),e.next=6,A.listAccounts();case 6:if(n=e.sent,S.value=n.length>0,e.t0=S.value,!e.t0){e.next=12;break}return e.next=12,G(n);case 12:e.next=17;break;case 14:e.prev=14,e.t1=e.catch(0),o.error(String((null===e.t1||void 0===e.t1?void 0:e.t1.message)||e.t1));case 17:case"end":return e.stop()}}),e,null,[[0,14]])}))));var F=function(){var e=Object(h.a)(regeneratorRuntime.mark((function e(){var t;return regeneratorRuntime.wrap((function(e){for(;;)switch(e.prev=e.next){case 0:return e.prev=0,H.value=!0,e.next=4,A.listAccounts();case 4:if(t=e.sent,S.value=t.length>0,!S.value){e.next=11;break}return e.next=9,G(t);case 9:e.next=13;break;case 11:return e.next=13,A.send("eth_requestAccounts",[]);case 13:H.value=!1,e.next=19;break;case 16:e.prev=16,e.t0=e.catch(0),o.error(String((null===e.t0||void 0===e.t0?void 0:e.t0.message)||e.t0));case 19:case"end":return e.stop()}}),e,null,[[0,16]])})));return function(){return e.apply(this,arguments)}}(),U=function(){S.value=!1,te(),o.success("Disconnected.")},P=function(){var e=Object(h.a)(regeneratorRuntime.mark((function e(){var t,r;return regeneratorRuntime.wrap((function(e){for(;;)switch(e.prev=e.next){case 0:return e.prev=0,e.next=3,l.value.validate();case 3:if(e.sent){e.next=6;break}throw new Error(l.value.errors.amount[0]);case 6:if(!H.value){e.next=8;break}throw new Error("Wait until the current tx is finished.");case 8:return e.next=10,n.e(2).then(n.t.bind(null,387,7));case 10:return t=e.sent.default,(r=new t(j)).eth.transactionConfirmationBlocks=_,e.next=15,r.eth.sendTransaction({from:address.value,to:C,value:k.a.utils.parseEther(T.value).toHexString()}).once("sent",V).once("sending",I).once("transactionHash",N).once("receipt",Y).on("confirmation",z).on("error",J);case 15:e.next=20;break;case 17:e.prev=17,e.t0=e.catch(0),e.t0&&o.error(String((null===e.t0||void 0===e.t0?void 0:e.t0.message)||e.t0));case 20:case"end":return e.stop()}}),e,null,[[0,17]])})));return function(){return e.apply(this,arguments)}}(),V=function(){H.value=!0,o.info("Transaction Status: Transaction sent to Metamask.")},I=function(){o.info("Transaction Status: Waiting to user confirm.")},N=function(e){M.value=e,E.value="Awaiting transaction confirmation.",Z(),o.info("Transaction Status: Awaiting transaction confirmation.")},Y=function(){var e=Object(h.a)(regeneratorRuntime.mark((function e(){return regeneratorRuntime.wrap((function(e){for(;;)switch(e.prev=e.next){case 0:return W.value=!0,E.value="Awaiting block confirmation.",o.success("Transaction Status: Awaiting block confirmation."),o.info("Thank You For Your Support! - @emretepedev"),e.next=6,X();case 6:case"end":return e.stop()}}),e)})));return function(){return e.apply(this,arguments)}}(),z=function(e){e&&e<_&&(B.value=e,o.info("Confirmation Status: New block found.")),e>=_&&(E.value="Confirmed.",ee(),o.success("Transaction Status: Confirmed."))},J=function(){E.value="Failed.",ee(),o.error("Transaction Status: Failed.")},L=function(){var e=Object(h.a)(regeneratorRuntime.mark((function e(){return regeneratorRuntime.wrap((function(e){for(;;)switch(e.prev=e.next){case 0:return e.next=2,X();case 2:o.success("Chain has changed.");case 3:case"end":return e.stop()}}),e)})));return function(){return e.apply(this,arguments)}}(),G=function(){var e=Object(h.a)(regeneratorRuntime.mark((function e(t){return regeneratorRuntime.wrap((function(e){for(;;)switch(e.prev=e.next){case 0:if(S.value=t.length>0,!S.value){e.next=6;break}return e.next=4,K(t[0]);case 4:e.next=7;break;case 6:U();case 7:case"end":return e.stop()}}),e)})));return function(t){return e.apply(this,arguments)}}(),K=function(){var e=Object(h.a)(regeneratorRuntime.mark((function e(address){return regeneratorRuntime.wrap((function(e){for(;;)switch(e.prev=e.next){case 0:return e.next=2,Q(address);case 2:return e.next=4,X();case 4:case"end":return e.stop()}}),e)})));return function(t){return e.apply(this,arguments)}}(),Q=function(){var e=Object(h.a)(regeneratorRuntime.mark((function e(t){return regeneratorRuntime.wrap((function(e){for(;;)switch(e.prev=e.next){case 0:if(!t){e.next=4;break}e.t0=k.a.utils.getAddress(t),e.next=7;break;case 4:return e.next=6,A.listAccounts();case 6:e.t0=e.sent[0];case 7:address.value=e.t0,o.success("Linked account changed to '".concat(address.value,"'"));case 9:case"end":return e.stop()}}),e)})));return function(t){return e.apply(this,arguments)}}(),X=function(){var e=Object(h.a)(regeneratorRuntime.mark((function e(){return regeneratorRuntime.wrap((function(e){for(;;)switch(e.prev=e.next){case 0:return e.t0=k.a.utils,e.next=3,A.getBalance(address.value);case 3:e.t1=e.sent,R.value=e.t0.formatEther.call(e.t0,e.t1);case 5:case"end":return e.stop()}}),e)})));return function(){return e.apply(this,arguments)}}(),Z=function(){l.value.reset(),T.value=""},ee=function(){E.value="",M.value="",B.value=0,W.value=!1,H.value=!1},te=function(){address.value="",R.value=""},ne=function(){var e=Object(h.a)(regeneratorRuntime.mark((function e(){return regeneratorRuntime.wrap((function(e){for(;;)switch(e.prev=e.next){case 0:return e.prev=0,e.next=3,navigator.clipboard.writeText(address.value);case 3:o.success("Address ".concat(address.value," copied.")),e.next=8;break;case 6:e.prev=6,e.t0=e.catch(0);case 8:case"end":return e.stop()}}),e,null,[[0,6]])})));return function(){return e.apply(this,arguments)}}();return{__sfc:!0,metamaskStore:t,$config:c,$toast:o,observer:l,ownerAddress:C,txConfirmationBlocks:_,ethereum:j,hasMetamask:O,provider:A,isConnected:S,address:address,balance:R,amount:T,txStatus:E,txConfirmationCount:B,txHash:M,spinner:H,waitForConfirmation:W,formattedAddress:$,formattedBalance:D,connectWeb3:F,disconnectWeb3:U,send:P,handleTxSent:V,handleTxSending:I,handleTxHash:N,handleTxReceipt:Y,handleTxConfirmation:z,handleTxError:J,handleChainChanged:L,handleAccountsChanged:G,updateUserInfo:K,updateUserAddress:Q,updateUserBalance:X,resetInputs:Z,resetTxDetails:ee,resetUserDetails:te,copyToAddress:ne,mdiCurrencyUsdOff:w.m,ValidationObserver:y.a,ValidationProvider:y.b}}}),_=C,j=n(51),component=Object(j.a)(_,(function(){var e=this,t=e._self._c,n=e._self._setupProxy;return t("div",[t("div",{staticClass:"mt-12 flex justify-center"},[t(c.b,[n.hasMetamask?t("div",[t(c.c,{class:["my-5",e.$vuetify.breakpoint.smAndDown?"mx-2 grid grid-cols-1 gap-y-5 space-x-0":"space-x-6"],attrs:{align:"center",justify:"center"}},[t(l.a,{attrs:{bottom:"","content-class":"text-xs",disabled:!n.isConnected},scopedSlots:e._u([{key:"activator",fn:function(r){var c=r.on;return[t("span",e._g({directives:[{def:d.a,name:"ripple",rawName:"v-ripple",value:{center:!0},expression:"{ center: true }"}],staticClass:"app-title border-gradient-br-blue-green-gray-900 my-auto cursor-pointer rounded-md border-2 border-solid border-transparent p-3 text-center text-gray-100 shadow-xl",on:{click:function(e){n.isConnected&&n.copyToAddress()}}},c),[e._v("\n                Address:\n                "+e._s(n.formattedAddress)+"\n              ")])]}}],null,!1,881828473)},[e._v(" "),t("span",{staticClass:"text-center"},[t("div",[e._v("\n                "+e._s(n.address)+"\n              ")]),e._v(" "),t("div",[e._v("(Click to Copy)")])])]),e._v(" "),t("span",{staticClass:"app-title border-gradient-br-blue-green-gray-900 my-auto rounded-md border-2 border-solid border-transparent p-3 text-center text-gray-100"},[e._v("\n            Balance: "+e._s(n.formattedBalance)+"\n          ")])],1),e._v(" "),t(n.ValidationObserver,{ref:"observer",scopedSlots:e._u([{key:"default",fn:function(l){var d=l.invalid;return[t(c.c,[t(n.ValidationProvider,{staticClass:"flex justify-center",attrs:{name:"amount",rules:{required:!0,decimal:!0,min:1,max:8,min_value:1e-6,max_value:n.balance}},scopedSlots:e._u([{key:"default",fn:function(r){var c=r.errors;return[t(o.a,{staticClass:"mx-4 mt-4 max-w-sm",attrs:{counter:8,dense:"",disabled:!n.isConnected,"error-messages":c,hint:n.amount.length?void 0:"For example, `0.01`",label:"Amount",name:"amount",outlined:"",placeholder:"Your amount","prepend-inner-icon":n.mdiCurrencyUsdOff,rounded:"",shaped:"",success:!Object.keys(c).length&&Boolean(n.amount.length)},on:{keyup:function(t){return!t.type.indexOf("key")&&e._k(t.keyCode,"enter",13,t.key,"Enter")?null:n.send()}},model:{value:n.amount,callback:function(e){n.amount=e},expression:"amount"}})]}}],null,!0)})],1),e._v(" "),t(c.c,{class:e.$vuetify.breakpoint.smAndDown?"my-4 grid grid-cols-1 gap-y-2 space-x-0 space-y-1 px-5":"space-x-6",attrs:{align:"center",justify:"center"}},[t(r.a,{class:e.$vuetify.breakpoint.smAndDown?"w-full":"",attrs:{disabled:d||n.spinner||!n.isConnected},on:{click:function(e){return n.send()}}},[n.spinner?t("svg",{staticClass:"mr-3 h-5 w-5 animate-spin text-white",attrs:{viewBox:"0 0 24 24"}},[t("circle",{staticClass:"opacity-25",attrs:{cx:"12",cy:"12",r:"10",stroke:"currentColor","stroke-width":"4"}}),e._v(" "),t("path",{staticClass:"opacity-75",attrs:{d:"M4 12a8 8 0 018-8V0C5.373 0 0 5.373 0 12h4zm2 5.291A7.962 7.962 0 014 12H0c0 3.042 1.135 5.824 3 7.938l3-2.647z",fill:"currentColor"}})]):e._e(),e._v(" "),t("span",[e._v("Send")])]),e._v(" "),n.isConnected?t(r.a,{on:{click:function(e){return n.disconnectWeb3()}}},[e._v("Disconnect to Metamask")]):t(r.a,{on:{click:function(e){return n.connectWeb3()}}},[e._v("Connect")])],1)]}}],null,!1,1264186795)}),e._v(" "),t("div",{staticClass:"mt-5 text-center text-sm"},[e._v("\n          Note: Never mind the coffee. As a developer, I prefer Testnet coins\n          for testing :)\n        ")]),e._v(" "),t("div",{staticClass:"mt-5 flex flex-col items-center space-y-1 text-center text-sm"},[n.txHash?t("div",{staticClass:"break-words"},[e._v("\n            Transaction Hash: "+e._s(n.txHash)+"\n          ")]):e._e(),e._v(" "),n.txStatus?t("div",[e._v("Status: "+e._s(n.txStatus))]):e._e(),e._v(" "),n.waitForConfirmation?t("div",[e._v("\n            Confirmation Progress:\n            "+e._s(n.txConfirmationCount)+"/"+e._s(n.txConfirmationBlocks)+"\n          ")]):e._e()])],1):t("div",{staticClass:"flex items-center justify-center"},[t(r.a,{attrs:{href:"https://metamask.io/download/",target:"_blank"}},[e._v("\n          Install Metamask\n        ")])],1)])],1)])}),[],!1,null,null,null);t.default=component.exports}}]);